{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/main.js","webpack:///./js/modules/autocomplete/autocomplete.js","webpack:///./js/modules/autocomplete/init-autocomplete.js"],"names":["window","addEventListener","initAutocomplete","Autocomplete","container","callback","_container","_callback","_inputElement","querySelector","_autocompleteMenuElement","_optionListElement","_selectedListElement","_selectedCountBtn","_errorMessage","dataset","errorMsg","_autocompleteData","_autocompleteDataCopy","_selectedItems","_matchesItemData","_hasMultiOptions","hasAttribute","_onInputHandler","_debouceInput","bind","_onClickHandler","_onLoadDataHandler","_init","_createMenu","_updateSelectedCountBtn","_onInputKeydown","func","timeout","context","timer","classList","remove","add","apply","arguments","innerHTML","_showOptionList","clearTimeout","setTimeout","document","createElement","_createOptionList","insertAdjacentHTML","_createSelectCountBtn","_createSelectedList","_createErrorMsg","append","data","selectedOption","item","setAttribute","id","title","labelHead","labelValue","textContent","_createDeleteItemBtn","messageStr","removeAttribute","message","length","countElement","what","where","toLowerCase","search","active","value","forEach","dataItem","matches","_searchInData","push","_createOption","evt","target","closest","deleteBtnSelectedItem","selectedCountBtn","Number","optionId","filter","it","itemToDelete","toggle","optionValue","autocomplete","onDocumentHandler","activeOptionList","activeSelectedList","activeArroreMessage","counterBtn","getData","fetch","then","res","ok","Error","status","json","slice","dispatchEvent","CustomEvent","callbacks","base","custom","console","log","autocompleteElements","querySelectorAll","autocompleteEntities","map","autocompleteCallback"],"mappings":"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","file":"main.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/main.js\");\n","// import {iosVhFix} from './utils/ios-vh-fix';\n// import {initCustomSelect} from './modules/form/init-custom-select';\n// import {initFormValidate} from './modules/form/init-form-validate';\nimport {initAutocomplete} from './modules/autocomplete/init-autocomplete';\n\n// ---------------------------------\n\nwindow.addEventListener('DOMContentLoaded', () => {\n\n  // Utils\n  // ---------------------------------\n\n  // iosVhFix();\n\n  // Modules\n  // ---------------------------------\n\n  // все скрипты должны быть в обработчике 'DOMContentLoaded', но не все в 'load'\n  // в load следует добавить скрипты, не участвующие в работе первого экрана\n  window.addEventListener('load', () => {\n    // initCustomSelect();\n    // initFormValidate();\n    initAutocomplete();\n  });\n});\n\n// ---------------------------------\n\n// ❗❗❗ обязательно установите плагины eslint, stylelint, editorconfig в редактор кода.\n\n// привязывайте js не на классы, а на дата атрибуты (data-validate)\n\n// вместо модификаторов .block--active используем утилитарные классы\n// .is-active || .is-open || .is-invalid и прочие (обязателен нейминг в два слова)\n// .select.select--opened ❌ ---> [data-select].is-open ✅\n\n// выносим все в дата атрибуты\n// url до иконок пинов карты, настройки автопрокрутки слайдера, url к json и т.д.\n\n// для адаптивного JS используейтся matchMedia и addListener\n// const breakpoint = window.matchMedia(`(min-width:1024px)`);\n// const breakpointChecker = () => {\n//   if (breakpoint.matches) {\n//   } else {\n//   }\n// };\n// breakpoint.addListener(breakpointChecker);\n// breakpointChecker();\n\n// используйте .closest(el)\n","export class Autocomplete {\n  constructor(container, callback) {\n    this._container = container;\n    this._callback = callback;\n    this._inputElement = this._container.querySelector('input');\n    this._autocompleteMenuElement = null;\n    this._optionListElement = null;\n    this._selectedListElement = null;\n    this._selectedCountBtn = null;\n    this._errorMessage = this._container.dataset.errorMsg;\n\n    this._autocompleteData = []; // оригинальные данные\n    this._autocompleteDataCopy = []; // массив для преобразования данных, содержит элементы кроме выбранных\n    this._selectedItems = []; // массив выбранных элементов\n    this._matchesItemData = []; // массив совпадений среди _autocompleteDataCopy\n\n    this._hasMultiOptions = this._container.hasAttribute('data-multi-options');\n\n    this._onInputHandler = this._debouceInput(this._onInputHandler.bind(this), 200);\n    this._onClickHandler = this._onClickHandler.bind(this);\n    this._onLoadDataHandler = this._onLoadDataHandler.bind(this);\n    this._init();\n  }\n\n  _init() {\n    this._callback();\n    this._container.addEventListener('loadDataSuccess', this._onLoadDataHandler);\n  }\n\n  _onLoadDataHandler() {\n    this._createMenu();\n    if (this._hasMultiOptions) {\n      this._updateSelectedCountBtn();\n    }\n    this._inputElement.addEventListener('input', this._onInputHandler);\n    this._inputElement.addEventListener('keydown', this._onInputKeydown);\n    this._container.addEventListener('click', this._onClickHandler);\n  }\n\n  _debouceInput(func, timeout, context = this) {\n    let timer;\n    return function () {\n      context._autocompleteMenuElement.classList.remove('is-missing');\n      context._container.classList.add('has-loader');\n\n      const callback = () => {\n        // eslint-disable-next-line\n        func.apply(this, arguments)\n      };\n\n      context._optionListElement.innerHTML = ''; // обновляем элемент при новом вводе\n      context._matchesItemData = []; // обновляем массив совпадений при новом вводе\n      context._showOptionList(false);\n\n      clearTimeout(timer);\n      timer = setTimeout(callback, timeout);\n    };\n  }\n\n  // общий контейнер выпадашки\n  _createMenu() {\n    this._autocompleteMenuElement = document.createElement('div');\n    this._autocompleteMenuElement.classList.add('autocomplete-menu');\n    this._createOptionList();\n\n    if (this._hasMultiOptions) {\n      this._inputElement.insertAdjacentHTML('afterend', this._createSelectCountBtn());\n      this._createSelectedList();\n    }\n\n    this._createErrorMsg();\n    this._container.append(this._autocompleteMenuElement);\n  }\n\n  // Список предлагаемых вариантов\n  _createOptionList() {\n    this._optionListElement = document.createElement('ul');\n    this._optionListElement.classList.add('autocomplete-menu__list');\n    this._optionListElement.classList.add('autocomplete-menu__list--options');\n    this._autocompleteMenuElement.append(this._optionListElement);\n  }\n\n  // Список выбранных вариантов\n  _createSelectedList() {\n    this._selectedListElement = document.createElement('ul');\n    this._selectedListElement.classList.add('autocomplete-menu__list');\n    this._selectedListElement.classList.add('autocomplete-menu__list--selected');\n    this._autocompleteMenuElement.append(this._selectedListElement);\n  }\n\n  // Создание элемента списка на основе данных\n  _createOption(data, selectedOption = false) {\n    const item = document.createElement('li');\n\n    item.classList.add('autocomplete-menu__item');\n    item.setAttribute('data-option-id', data.id);\n    item.setAttribute('data-option-value', data.title);\n\n    const labelHead = document.createElement('span');\n    const labelValue = document.createElement('span');\n\n    labelHead.classList.add('autocomplete-menu__head-label');\n    labelValue.classList.add('autocomplete-menu__value');\n\n    labelHead.textContent = 'улица';\n    labelValue.textContent = data.title;\n\n    item.append(labelHead);\n    item.append(labelValue);\n\n    if (!selectedOption) {\n      item.setAttribute('tabIndex', '0');\n      this._optionListElement.append(item);\n    } else {\n      item.insertAdjacentHTML('beforeend', this._createDeleteItemBtn());\n      this._selectedListElement.append(item);\n    }\n\n    return item;\n  }\n\n  // Кнопка удаление выбранного варианта\n  _createDeleteItemBtn() {\n    return (`\n      <button class=\"autocomplete-menu__btn-delete\" type=\"button\">\n        <span class=\"visually-hidden\">Удалить вариант</span>\n        <svg class=\"btn__icon\" width=\"16\" height=\"16\" aria-hidden=\"true\">\n          <use xlink:href=\"#icon-close\"></use>\n        </svg>\n      </button>\n    `);\n  }\n\n  // Кнопка счетчик на инпуте\n  _createSelectCountBtn() {\n    return (`\n      <button class=\"btn custom-input__selected-btn\" type=\"button\">\n        <span class=\"btn__text counter\">777</span>\n      </button>\n    `);\n  }\n\n  // Сообщение о ошибке поиска совпадений\n  _createErrorMsg() {\n    const messageStr = this._errorMessage ? this._errorMessage : 'Похожих запросов не найдено.';\n    if (this._errorMessage) {\n      this._container.removeAttribute('data-error-msg');\n    }\n    const message = document.createElement('p');\n    message.classList.add('autocomplete-menu__error');\n    message.textContent = messageStr;\n    this._autocompleteMenuElement.append(message);\n  }\n\n  // Обновление кнопки счетчика по которой вызывается список выбранного\n  _updateSelectedCountBtn() {\n    this._selectedCountBtn = this._container.querySelector('.custom-input__selected-btn');\n\n    if (this._selectedItems.length === 0) {\n      this._container.classList.remove('has-counter-btn');\n    } else {\n      this._container.classList.add('has-counter-btn');\n    }\n    const countElement = this._selectedCountBtn.querySelector('.counter');\n    countElement.textContent = this._selectedItems.length;\n  }\n\n  // Поиск совпадений по вводу в массиве данных\n  _searchInData(what = '', where = '') {\n    return where.toLowerCase().search(what.toLowerCase());\n  }\n\n  // Показ окна с предлагаемыми вариантами\n  _showOptionList(active = true) {\n    if (!active) {\n      this._autocompleteMenuElement.classList.remove('is-active-options');\n      return;\n    }\n    this._autocompleteMenuElement.classList.add('is-active-options');\n    this._container.classList.remove('has-loader');\n    this._autocompleteMenuElement.classList.remove('is-missing');\n  }\n\n  // Ввод осуществляется через debounce 200ms\n  _onInputHandler() {\n    if (!this._inputElement.value) {\n      this._showOptionList(false);\n      this._autocompleteMenuElement.classList.remove('is-missing');\n      this._container.classList.remove('has-loader');\n      return;\n    }\n\n    this._optionListElement.innerHTML = ''; // обновляем элемент при новом вводе\n    this._matchesItemData = []; // обновляем массив совпадений при новом вводе\n\n    this._autocompleteDataCopy.forEach((dataItem) => {\n      let matches = this._searchInData(this._inputElement.value, dataItem.title);\n\n      if (matches === -1) {\n        this._autocompleteMenuElement.classList.add('is-missing');\n        this._container.classList.remove('has-loader');\n        return;\n      }\n\n      this._matchesItemData.push(dataItem);\n      this._createOption(dataItem);\n    });\n\n    if (this._matchesItemData.length > 0) {\n      this._showOptionList();\n    } else {\n      this._showOptionList(false);\n    }\n  }\n\n  _onClickHandler(evt) {\n    const container = evt.target.closest('[data-autocomplete]');\n\n    if (container) {\n      const item = evt.target.closest('.autocomplete-menu__item');\n      const deleteBtnSelectedItem = evt.target.closest('.autocomplete-menu__btn-delete');\n      const selectedCountBtn = evt.target.closest('.custom-input__selected-btn');\n\n      // при мультивставке выбранных элементов в отдельный список\n      if (this._hasMultiOptions) {\n        if (item) {\n          // клик по элементу списка предлагаемых вариантов\n          if (item.closest('.autocomplete-menu__list--options')) {\n            this._matchesItemData.forEach((dataItem) => {\n              if (Number(dataItem.id) === Number(item.dataset.optionId)) {\n                this._selectedItems.push(dataItem);\n                this._createOption(dataItem, true);\n                this._autocompleteDataCopy = this._autocompleteDataCopy.filter((it) => it.id !== dataItem.id);\n                this._updateSelectedCountBtn();\n              }\n            });\n\n            this._inputElement.value = '';\n          }\n\n          // клик по элементу списка выбранных вариантов\n          if (item.closest('.autocomplete-menu__list--selected')) {\n            // клик по кнопке удаления варианта\n            if (deleteBtnSelectedItem) {\n              const itemToDelete = evt.target.closest('.autocomplete-menu__item');\n\n              this._selectedItems.forEach((dataItem) => {\n                if (Number(dataItem.id) === Number(item.dataset.optionId)) {\n                  this._autocompleteDataCopy.push(dataItem);\n                  this._selectedItems = this._selectedItems.filter((it) => it.id !== dataItem.id);\n                  itemToDelete.remove();\n                  this._updateSelectedCountBtn();\n                }\n              });\n\n              if (this._selectedItems.length === 0) {\n                this._autocompleteMenuElement.classList.remove('is-active-selected');\n              }\n            }\n          }\n        }\n\n        // клик по кнопке счетчику для показа выбранных элементов\n        if (selectedCountBtn) {\n          if (this._autocompleteMenuElement.closest('.is-active-options')) {\n            this._autocompleteMenuElement.classList.remove('is-active-options');\n          }\n          this._autocompleteMenuElement.classList.toggle('is-active-selected');\n        }\n      } else {\n        if (item) {\n          this._inputElement.value = item.dataset.optionValue;\n          this._autocompleteMenuElement.classList.remove('is-active-options');\n        }\n      }\n    }\n  }\n\n  reInit() {\n    this._autocompleteMenuElement.remove();\n    this._init();\n  }\n}\n","import {Autocomplete} from './autocomplete';\n\nlet autocomplete = [];\n\nconst onDocumentHandler = (evt) => {\n  const activeOptionList = document.querySelector('[data-autocomplete] .is-active-options');\n  const activeSelectedList = document.querySelector('[data-autocomplete] .is-active-selected');\n  const activeArroreMessage = document.querySelector('[data-autocomplete] .is-missing');\n  const counterBtn = evt.target.closest('.custom-input__selected-btn');\n  const deleteBtnSelectedItem = evt.target.closest('.autocomplete-menu__btn-delete');\n\n  if (counterBtn) {\n    return;\n  }\n\n  if (deleteBtnSelectedItem) {\n    return;\n  }\n\n  if (activeOptionList) {\n    activeOptionList.classList.remove('is-active-options');\n  }\n\n  if (activeSelectedList) {\n    activeSelectedList.classList.remove('is-active-selected');\n  }\n\n  if (activeArroreMessage) {\n    activeArroreMessage.classList.remove('is-missing');\n  }\n};\n\n// Пример получения локального json через fetch, вся работа внутри, происходит с копией массива данных _autocompleteDataCopy\n// при завершении обязательно должно быть вызвано событие loadData, для рендера элементов\nconst getData = (context) => {\n  fetch('data/posts.json')\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(res.status);\n        }\n        return res.json();\n      })\n      .then((data) => {\n        context._autocompleteData = data;\n        context._autocompleteDataCopy = context._autocompleteData.slice();\n        context._container.dispatchEvent(new CustomEvent('loadDataSuccess'));\n        return data;\n      });\n};\n\n// Добавьте свою коллбек-функцию и аттрибут (data-autocomplete-callback=\"custom\") с её именем из объекта ниже, для элемента с data-autocomplete\n// так же через коллбек можно изменить сообщение об ошибке поиска, просто передайте строку с ошибкой в this._errorMessage\nconst callbacks = {\n  base() {\n    getData(this);\n  },\n  custom() {\n    // добавить функцию получения данных\n    console.log('Кастомный коллбек');\n  },\n};\n\n// чтобы подкорректировать верстку элементов списков отредактируйте _createOption() в autocomplete.js\nconst initAutocomplete = () => {\n  const autocompleteElements = [...document.querySelectorAll('[data-autocomplete]')];\n\n  if (!autocompleteElements.length) {\n    return;\n  }\n\n  const autocompleteEntities = autocompleteElements.map((it) => {\n    let callback = it.dataset.autocompleteCallback;\n\n    if (!callback) {\n      callback = 'base';\n    }\n\n    return new Autocomplete(it, callbacks[callback]);\n  });\n  autocompleteEntities.forEach((it) => autocomplete.push(it));\n  document.addEventListener('click', onDocumentHandler);\n\n  window.autocomplete = autocomplete;\n};\n\n\nexport {initAutocomplete};\n"],"sourceRoot":""}